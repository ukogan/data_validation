<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ODCV Timeline - Mockup 2: Horizontal Timeline (Wide Screen)</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            font-size: 15px;
            background: #f0f4f8;
            color: #2d3748;
            line-height: 1.5;
        }

        /* CHANGE G: Full-width container layout */
        .container {
            width: 100%;
            max-width: 1920px;
            margin: 0 auto;
            padding: 20px;
            position: relative;
        }

        /* Annotation System - HIGHLY VISIBLE */
        .annotation {
            position: absolute;
            border: 3px dashed;
            pointer-events: none;
            z-index: 1000;
            animation: pulse 2s infinite;
            box-shadow: 0 0 25px currentColor;
        }

        @keyframes pulse {
            0%, 100% {
                opacity: 0.7;
                transform: scale(1);
            }
            50% {
                opacity: 1;
                transform: scale(1.01);
            }
        }

        .annotation-G {
            border-color: #ff00ff;
            background: rgba(255,0,255,0.15);
            box-shadow: 0 0 35px rgba(255,0,255,0.6);
        }
        .annotation-H {
            border-color: #00ccff;
            background: rgba(0,204,255,0.15);
            box-shadow: 0 0 35px rgba(0,204,255,0.6);
        }
        .annotation-I {
            border-color: #ffcc00;
            background: rgba(255,204,0,0.15);
            box-shadow: 0 0 35px rgba(255,204,0,0.6);
        }
        .annotation-J {
            border-color: #00ff00;
            background: rgba(0,255,0,0.15);
            box-shadow: 0 0 35px rgba(0,255,0,0.6);
        }
        .annotation-K {
            border-color: #ff6600;
            background: rgba(255,102,0,0.15);
            box-shadow: 0 0 35px rgba(255,102,0,0.6);
        }

        .badge {
            position: absolute;
            width: 42px;
            height: 42px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            color: white;
            font-size: 20px;
            cursor: pointer;
            z-index: 1001;
            box-shadow: 0 6px 20px rgba(0,0,0,0.6);
            pointer-events: all;
            border: 3px solid white;
            animation: badgePulse 2s infinite;
        }

        @keyframes badgePulse {
            0%, 100% { transform: scale(1) rotate(0deg); }
            50% { transform: scale(1.15) rotate(5deg); }
        }

        .badge-G { background: #ff00ff; top: -21px; left: -21px; }
        .badge-H { background: #00ccff; top: -21px; right: -21px; }
        .badge-I { background: #ffcc00; bottom: -21px; left: -21px; }
        .badge-J { background: #00ff00; top: 50%; left: -21px; transform: translateY(-50%); }
        .badge-K { background: #ff6600; bottom: -21px; right: -21px; }

        .badge:hover {
            transform: scale(1.25);
            z-index: 1003;
        }

        .badge:hover::after {
            content: attr(data-tooltip);
            position: absolute;
            bottom: 52px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0,0,0,0.95);
            color: white;
            padding: 14px 20px;
            border-radius: 10px;
            white-space: nowrap;
            font-size: 15px;
            font-weight: normal;
            z-index: 1004;
            box-shadow: 0 8px 24px rgba(0,0,0,0.6);
            border: 2px solid currentColor;
        }

        /* Floating Legend Panel */
        .legend-panel {
            position: fixed;
            top: 20px;
            right: 20px;
            background: white;
            border: 4px solid #2d3748;
            border-radius: 16px;
            padding: 24px;
            box-shadow: 0 16px 56px rgba(0,0,0,0.35);
            z-index: 2000;
            max-width: 420px;
            animation: slideIn 0.5s ease-out;
        }

        @keyframes slideIn {
            from {
                transform: translateX(100%) rotate(5deg);
                opacity: 0;
            }
            to {
                transform: translateX(0) rotate(0deg);
                opacity: 1;
            }
        }

        .legend-panel h3 {
            margin-bottom: 20px;
            font-size: 21px;
            color: #1a202c;
            border-bottom: 3px solid #2d3748;
            padding-bottom: 12px;
            font-weight: 700;
            text-align: center;
        }

        .legend-item {
            display: flex;
            align-items: flex-start;
            margin-bottom: 18px;
            cursor: pointer;
            padding: 12px;
            border-radius: 10px;
            transition: all 0.2s;
            border: 2px solid transparent;
        }

        .legend-item:hover {
            background: linear-gradient(135deg, #f7fafc, #edf2f7);
            border-color: currentColor;
            transform: translateX(10px);
            box-shadow: 0 6px 16px rgba(0,0,0,0.15);
        }

        .legend-marker {
            width: 38px;
            height: 38px;
            border-radius: 50%;
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 17px;
            margin-right: 15px;
            flex-shrink: 0;
            box-shadow: 0 4px 12px rgba(0,0,0,0.3);
            border: 2px solid white;
        }

        .legend-text {
            font-size: 14px;
            line-height: 1.6;
        }

        .legend-text strong {
            display: block;
            font-size: 15px;
            margin-bottom: 4px;
            color: #1a202c;
        }

        /* Header */
        .header {
            background: linear-gradient(135deg, #1e3a5f 0%, #2d5a8e 100%);
            color: white;
            padding: 24px 32px;
            margin: -20px -20px 20px -20px;
            box-shadow: 0 4px 16px rgba(0,0,0,0.2);
            position: relative;
        }

        .header h1 {
            font-size: 28px;
            font-weight: 700;
            margin-bottom: 8px;
        }

        .header-subtitle {
            font-size: 15px;
            opacity: 0.95;
        }

        /* CHANGE H & I: Main horizontal layout */
        .main-layout {
            display: flex;
            gap: 20px;
            position: relative;
            min-height: 600px;
        }

        /* CHANGE I: Left analytics panels (40% width) */
        .left-panels {
            width: 40%;
            display: flex;
            flex-direction: column;
            gap: 16px;
            position: relative;
        }

        /* CHANGE H: Right timeline area (60% width) */
        .right-timeline {
            width: 60%;
            position: relative;
        }

        .analytics-card {
            background: white;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
            position: relative;
        }

        .analytics-card h2 {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 16px;
            color: #2d3748;
            padding-bottom: 10px;
            border-bottom: 2px solid #e2e8f0;
        }

        /* CHANGE J: Inline legend */
        .inline-legend {
            display: flex;
            gap: 20px;
            padding: 12px;
            background: linear-gradient(90deg, #f7fafc, #ffffff);
            border-radius: 8px;
            margin-bottom: 12px;
            align-items: center;
            position: relative;
        }

        .inline-legend-item {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 13px;
        }

        .legend-dot {
            width: 20px;
            height: 20px;
            border-radius: 4px;
        }

        /* Timeline visualization */
        .timeline-container {
            background: white;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
            height: 100%;
            position: relative;
        }

        .timeline-header {
            font-size: 20px;
            font-weight: 600;
            margin-bottom: 16px;
            color: #2d3748;
        }

        .timeline-visual {
            background: linear-gradient(to right, #f7fafc 0%, #edf2f7 100%);
            border: 2px solid #cbd5e0;
            border-radius: 8px;
            height: 120px;
            position: relative;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* Metrics Grid */
        .metrics-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 12px;
            margin-bottom: 16px;
        }

        .metric {
            background: #f8f9fa;
            padding: 12px;
            border-radius: 6px;
            text-align: center;
        }

        .metric-value {
            font-size: 24px;
            font-weight: bold;
            color: #2d3748;
        }

        .metric-label {
            font-size: 12px;
            color: #718096;
            margin-top: 4px;
        }

        /* CHANGE K: Responsive breakpoint indicators */
        .breakpoint-indicator {
            position: fixed;
            bottom: 20px;
            left: 20px;
            background: rgba(0,0,0,0.8);
            color: white;
            padding: 10px 20px;
            border-radius: 25px;
            font-size: 13px;
            z-index: 1500;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .breakpoint-dot {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background: #48bb78;
            animation: dotPulse 2s infinite;
        }

        @keyframes dotPulse {
            0%, 100% { opacity: 0.5; }
            50% { opacity: 1; }
        }

        /* Responsive breakpoints */
        @media (max-width: 1400px) {
            .left-panels { width: 45%; }
            .right-timeline { width: 55%; }
        }

        @media (max-width: 1200px) {
            .main-layout {
                flex-direction: column;
            }
            .left-panels, .right-timeline {
                width: 100%;
            }
        }

        /* Data tables */
        .data-table {
            width: 100%;
            font-size: 13px;
            margin-top: 12px;
        }

        .data-table th,
        .data-table td {
            padding: 8px 12px;
            text-align: left;
            border-bottom: 1px solid #e2e8f0;
        }

        .data-table th {
            background: #f7fafc;
            font-weight: 600;
            color: #4a5568;
        }

        /* Status badges */
        .status-badge {
            display: inline-block;
            padding: 3px 8px;
            border-radius: 12px;
            font-size: 11px;
            font-weight: 600;
        }

        .status-good {
            background: #c6f6d5;
            color: #22543d;
        }

        .status-warning {
            background: #fed7aa;
            color: #7c2d12;
        }

        .status-error {
            background: #feb2b2;
            color: #742a2a;
        }

        /* Colors for timeline */
        .color-occupied { background: #e74c3c; }
        .color-unoccupied { background: #3498db; }
        .color-zone-active { background: #f1948a; }
        .color-zone-standby { background: #85c1e9; }
        .color-violation { background: #8e44ad; }
    </style>
</head>
<body>
    <!-- Floating Legend Panel -->
    <div class="legend-panel">
        <h3>🖥️ Horizontal Timeline Layout Changes</h3>

        <div class="legend-item" onclick="highlightChange('G')" style="border-color: #ff00ff">
            <div class="legend-marker" style="background: #ff00ff">G</div>
            <div class="legend-text">
                <strong>Full-Width Container</strong>
                Layout expands to use full screen width up to 1920px for maximum space
            </div>
        </div>

        <div class="legend-item" onclick="highlightChange('H')" style="border-color: #00ccff">
            <div class="legend-marker" style="background: #00ccff">H</div>
            <div class="legend-text">
                <strong>Timeline Right Side</strong>
                Timeline occupies 60% width on right for maximum visibility
            </div>
        </div>

        <div class="legend-item" onclick="highlightChange('I')" style="border-color: #ffcc00">
            <div class="legend-marker" style="background: #ffcc00">I</div>
            <div class="legend-text">
                <strong>Analytics Stack Left</strong>
                Analytics panels vertically stacked on left (40% width)
            </div>
        </div>

        <div class="legend-item" onclick="highlightChange('J')" style="border-color: #00ff00">
            <div class="legend-marker" style="background: #00ff00">J</div>
            <div class="legend-text">
                <strong>Inline Legend/Help</strong>
                Legend and help integrated inline to save vertical space
            </div>
        </div>

        <div class="legend-item" onclick="highlightChange('K')" style="border-color: #ff6600">
            <div class="legend-marker" style="background: #ff6600">K</div>
            <div class="legend-text">
                <strong>Responsive Breakpoints</strong>
                Layout adapts at 1400px and 1200px screen widths
            </div>
        </div>
    </div>

    <!-- CHANGE K: Breakpoint indicator -->
    <div class="breakpoint-indicator">
        <div class="breakpoint-dot"></div>
        <span id="breakpointText">Screen: Wide (>1400px)</span>
        <div class="annotation annotation-K" style="inset: -8px;">
            <div class="badge badge-K" data-tooltip="Responsive: 3 breakpoint sizes">K</div>
        </div>
    </div>

    <div class="container">
        <!-- Full-width annotation G -->
        <div class="annotation annotation-G" style="top: 0; left: 0; right: 0; height: 80px;">
            <div class="badge badge-G" data-tooltip="Full-width: 100% screen (max 1920px)">G</div>
        </div>

        <div class="header">
            <h1>ODCV Timeline Viewer - Horizontal Layout</h1>
            <div class="header-subtitle">Optimized for wide screens with side-by-side analytics and timeline</div>
        </div>

        <!-- Main horizontal layout -->
        <div class="main-layout">
            <!-- Left Analytics Panels -->
            <div class="left-panels">
                <!-- Analytics Stack Annotation I -->
                <div class="annotation annotation-I" style="inset: -10px;">
                    <div class="badge badge-I" data-tooltip="Analytics: Vertical stack (40% width)">I</div>
                </div>

                <!-- Executive Summary Card -->
                <div class="analytics-card">
                    <h2>Executive Summary</h2>
                    <div class="metrics-grid">
                        <div class="metric">
                            <div class="metric-value" style="color: #48bb78">71%</div>
                            <div class="metric-label">Energy Efficiency</div>
                        </div>
                        <div class="metric">
                            <div class="metric-value" style="color: #ed8936">83%</div>
                            <div class="metric-label">Response Rate</div>
                        </div>
                        <div class="metric">
                            <div class="metric-value" style="color: #f56565">76%</div>
                            <div class="metric-label">Compliance</div>
                        </div>
                    </div>
                </div>

                <!-- Occupancy Analysis Card -->
                <div class="analytics-card">
                    <h2>Occupancy Time Analysis</h2>
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>Metric</th>
                                <th>Sensor</th>
                                <th>Zone</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Occupied Time</td>
                                <td>6h 23m (29%)</td>
                                <td>3h 45m (17%)</td>
                            </tr>
                            <tr>
                                <td>Unoccupied Time</td>
                                <td>15h 37m (71%)</td>
                                <td>18h 15m (83%)</td>
                            </tr>
                            <tr>
                                <td>Peak Hour</td>
                                <td colspan="2">14:00 - 15:00</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <!-- Continuous Commissioning Card -->
                <div class="analytics-card">
                    <h2>Continuous Commissioning</h2>
                    <!-- Inline Legend Annotation J -->
                    <div class="inline-legend">
                        <div class="annotation annotation-J" style="inset: -5px;">
                            <div class="badge badge-J" data-tooltip="Inline legend: Saves vertical space">J</div>
                        </div>
                        <div class="inline-legend-item">
                            <div class="legend-dot color-occupied"></div>
                            <span>Occupied</span>
                        </div>
                        <div class="inline-legend-item">
                            <div class="legend-dot color-unoccupied"></div>
                            <span>Unoccupied</span>
                        </div>
                        <div class="inline-legend-item">
                            <div class="legend-dot color-violation"></div>
                            <span>Violation</span>
                        </div>
                    </div>
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>Violation Type</th>
                                <th>Count</th>
                                <th>Status</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Early Standby</td>
                                <td>23</td>
                                <td><span class="status-badge status-error">Critical</span></td>
                            </tr>
                            <tr>
                                <td>Early Occupied</td>
                                <td>14</td>
                                <td><span class="status-badge status-warning">Warning</span></td>
                            </tr>
                            <tr>
                                <td>Missed Response</td>
                                <td>10</td>
                                <td><span class="status-badge status-warning">Warning</span></td>
                            </tr>
                            <tr>
                                <td>Correct Operations</td>
                                <td>156</td>
                                <td><span class="status-badge status-good">Good</span></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Right Timeline Area -->
            <div class="right-timeline">
                <!-- Timeline Right Side Annotation H -->
                <div class="annotation annotation-H" style="inset: -10px;">
                    <div class="badge badge-H" data-tooltip="Timeline: 60% width for visibility">H</div>
                </div>

                <div class="timeline-container">
                    <div class="timeline-header">Zone BV200 - Conference Room A Timeline</div>

                    <!-- Sensor Timeline -->
                    <div style="margin-bottom: 20px;">
                        <h3 style="font-size: 14px; color: #718096; margin-bottom: 8px;">115-4-01 Presence Sensor</h3>
                        <div class="timeline-visual">
                            <div style="text-align: center; color: #4a5568">
                                <div style="font-size: 16px; font-weight: 600">Sensor Timeline Visualization</div>
                                <div style="font-size: 13px; margin-top: 8px">22 hours of occupancy data</div>
                                <div style="font-size: 12px; color: #718096; margin-top: 4px">Red: Occupied | Blue: Unoccupied</div>
                            </div>
                        </div>
                    </div>

                    <!-- Zone Timeline -->
                    <div style="margin-bottom: 20px;">
                        <h3 style="font-size: 14px; color: #718096; margin-bottom: 8px;">BV200 Zone Control</h3>
                        <div class="timeline-visual">
                            <div style="text-align: center; color: #4a5568">
                                <div style="font-size: 16px; font-weight: 600">Zone Control Timeline</div>
                                <div style="font-size: 13px; margin-top: 8px">Control state transitions</div>
                                <div style="font-size: 12px; color: #718096; margin-top: 4px">Pink: Active | Light Blue: Standby</div>
                            </div>
                        </div>
                    </div>

                    <!-- Violations Timeline -->
                    <div style="margin-bottom: 20px;">
                        <h3 style="font-size: 14px; color: #718096; margin-bottom: 8px;">Violations & Events</h3>
                        <div class="timeline-visual" style="height: 60px;">
                            <div style="text-align: center; color: #4a5568">
                                <div style="font-size: 14px; font-weight: 600">47 Violations Detected</div>
                                <div style="font-size: 12px; color: #8e44ad; margin-top: 4px">Purple markers indicate timing violations</div>
                            </div>
                        </div>
                    </div>

                    <!-- Timeline Stats -->
                    <div style="background: #f8f9fa; padding: 16px; border-radius: 8px; margin-top: 20px;">
                        <h3 style="font-size: 14px; font-weight: 600; margin-bottom: 12px; color: #2d3748">Timeline Statistics</h3>
                        <div style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 12px;">
                            <div>
                                <div style="font-size: 20px; font-weight: bold; color: #2d3748">22h</div>
                                <div style="font-size: 11px; color: #718096">Total Duration</div>
                            </div>
                            <div>
                                <div style="font-size: 20px; font-weight: bold; color: #48bb78">$127</div>
                                <div style="font-size: 11px; color: #718096">Energy Saved</div>
                            </div>
                            <div>
                                <div style="font-size: 20px; font-weight: bold; color: #f56565">47</div>
                                <div style="font-size: 11px; color: #718096">Violations</div>
                            </div>
                            <div>
                                <div style="font-size: 20px; font-weight: bold; color: #3182ce">76.8%</div>
                                <div style="font-size: 11px; color: #718096">Compliance</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Update breakpoint indicator
        function updateBreakpoint() {
            const width = window.innerWidth;
            const indicator = document.getElementById('breakpointText');
            if (width > 1400) {
                indicator.textContent = 'Screen: Wide (>1400px) - Full horizontal';
            } else if (width > 1200) {
                indicator.textContent = 'Screen: Medium (1200-1400px) - Adjusted';
            } else {
                indicator.textContent = 'Screen: Narrow (<1200px) - Vertical';
            }
        }

        window.addEventListener('resize', updateBreakpoint);
        updateBreakpoint();

        function highlightChange(letter) {
            // Flash the corresponding annotation
            const annotations = document.querySelectorAll(`.annotation-${letter}`);
            annotations.forEach(annotation => {
                // Reset animation
                annotation.style.animation = 'none';
                annotation.offsetHeight; // Trigger reflow
                annotation.style.animation = 'pulse 0.8s 5';

                // Make border thicker temporarily
                const originalBorder = annotation.style.borderWidth;
                annotation.style.borderWidth = '6px';
                setTimeout(() => {
                    annotation.style.borderWidth = originalBorder;
                }, 4000);
            });

            // Scroll to the first annotation
            if (annotations.length > 0) {
                annotations[0].scrollIntoView({ behavior: 'smooth', block: 'center' });
            }
        }
    </script>
</body>
</html>